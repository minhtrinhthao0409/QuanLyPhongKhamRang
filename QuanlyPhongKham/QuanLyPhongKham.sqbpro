<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="C:/Users/Mr DAT/source/repos/QuanLyPhongKhamRang/QuanlyPhongKham/bin/Debug/net8.0-windows/QuanLyPhongKham.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="2197"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="Doctors" custom_title="0" dock_id="7" table="4,7:mainDoctors"/><table title="Users" custom_title="0" dock_id="8" table="4,5:mainUsers"/><table title="Patients" custom_title="0" dock_id="10" table="4,8:mainPatients"/><table title="Appointments" custom_title="0" dock_id="11" table="4,12:mainAppointments"/><dock_state state="000000ff00000000fd00000001000000020000043c00000316fc0100000003fc000000000000043c0000000000fffffffa000000000100000002fb000000160064006f0063006b00420072006f00770073006500310100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500320100000000ffffffff0000000000000000fc000000000000043c0000000000fffffffa000000000100000002fb000000160064006f0063006b00420072006f00770073006500330100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500340000000000ffffffff0000000000000000fc000000000000043c0000011800fffffffa000000030100000007fb000000160064006f0063006b00420072006f00770073006500350000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500360000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500370100000000ffffffff0000011800fffffffb000000160064006f0063006b00420072006f00770073006500380100000000ffffffff0000011800fffffffb000000160064006f0063006b00420072006f00770073006500390000000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003100300100000000ffffffff0000011800fffffffb000000180064006f0063006b00420072006f007700730065003100310100000000ffffffff0000011800ffffff000002580000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="Appointments" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="63"/><column index="3" value="60"/><column index="4" value="106"/><column index="5" value="63"/><column index="6" value="56"/><column index="7" value="44"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Cashiers" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="62"/><column index="2" value="48"/><column index="3" value="109"/><column index="4" value="87"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Doctors" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="1" mode="0"/></sort><column_widths><column index="1" value="294"/><column index="2" value="304"/><column index="3" value="61"/><column index="4" value="87"/><column index="5" value="39"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Patients" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="61"/><column index="3" value="87"/><column index="4" value="39"/><column index="5" value="102"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Users" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="216"/><column index="2" value="93"/><column index="3" value="62"/><column index="4" value="124"/><column index="5" value="33"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1*">CREATE TABLE Patients (
    Id TEXT PRIMARY KEY,
    FullName TEXT NOT NULL,
    PhoneNumber TEXT,
    Email TEXT,
    IdMedicalRecord TEXT -- sẽ liên kết với bảng BenhAn
);
CREATE TABLE Appointments (
    Id TEXT PRIMARY KEY,
    PatientId TEXT NOT NULL,
    DoctorId TEXT NOT NULL,
    AppointmentDate DATE NOT NULL,
    StartTime TIME NOT NULL,
    EndTime TIME NOT NULL,
    Status INTEGER DEFAULT 0, -- 0: Chưa khám, 1: Đã khám, 2: Huỷ

    FOREIGN KEY (PatientId) REFERENCES Patients(Id),
    FOREIGN KEY (DoctorId) REFERENCES Doctors(IdDoctor)
);
CREATE TABLE MedicalRecords (
    Id TEXT PRIMARY KEY,
    PatientId TEXT NOT NULL,
    DoctorId TEXT NOT NULL,
    Symptoms TEXT,
    Diagnosis TEXT,
    TreatmentPlan TEXT,
    RecordDate DATE NOT NULL,

    FOREIGN KEY (PatientId) REFERENCES Patients(Id),
    FOREIGN KEY (DoctorId) REFERENCES Doctors(IdDoctor)
);
INSERT INTO Patients (
    Id,
    FullName,
    PhoneNumber,
    Email,
    IdMedicalRecord
) VALUES (
    '7fa9b437-2117-4c7d-9e5f-2e09a61392b9',
    'Nguyễn Văn A',
    '0909123456',
    'vana@example.com',
    NULL
);

INSERT INTO Appointments (
    Id,
    PatientId,
    DoctorId,
    AppointmentDate,
    StartTime,
    EndTime,
    Status
) VALUES (
    'aabbccdd-1122-3344-5566-77889900aabb',
    '7fa9b437-2117-4c7d-9e5f-2e09a61392b9',
    '24804db0-1c16-41e9-93ec-05ffa1055830',
    '2025-05-20',
    '09:00',
    '09:30',
    0
);

</sql><current_tab id="0"/></tab_sql></sqlb_project>
